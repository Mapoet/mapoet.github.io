---
title: "三维地球掩星事件可视化"
date: 2024-06-11
permalink: /posts/2024/06/occultation-visualization
excerpt: '基于ECharts GL的三维地球掩星事件轨迹动态可视化'
tags:
    - Occultation
    - GNSS
    - Atmosphere
    - Visualization
---

<style>
.occultation-card {
    max-width: 100%;
    margin: 0 auto;
    padding: 20px;
    box-sizing: border-box;
}

.occultation-card h1 {
    margin-bottom: 15px;
    color: #333;
}

.occultation-card p {
    margin-bottom: 20px;
    line-height: 1.6;
    color: #666;
}

#main {
    width: 100% !important;
    height: 600px !important;
    border: 1px solid #ddd;
    border-radius: 8px;
    overflow: hidden;
    position: relative;
    background: #000011;
    margin-bottom: 15px;
}

#status {
    margin-top: 10px;
    color: #666;
    font-size: 14px;
    text-align: center;
}

/* 确保在小屏幕上也能正常显示 */
@media (max-width: 768px) {
    .occultation-card {
        padding: 10px;
    }
    
    #main {
        height: 400px !important;
    }
}
</style>

<div class="occultation-card">
  <h1>三维地球掩星事件可视化</h1>
  <p>本页面基于 ECharts GL + D3.js 动态渲染 <code>occultation_events.json</code> 掩星事件数据，展示大气与电离层掩星轨迹在三维地球上的分布。</p>
  <div id="main"></div>
  <div id="status"></div>
</div>
<link rel="stylesheet" href="/assets/css/weather.css">
<script src="https://unpkg.com/echarts@5.4.3/dist/echarts.min.js"></script>
<script src="https://unpkg.com/echarts-gl@2.0.9/dist/echarts-gl.min.js"></script>
<script src="https://d3js.org/d3.v7.min.js"></script>
<script src="https://unpkg.com/three@0.157.0/build/three.min.js"></script>
<script>
window.addEventListener('load', function() {
    console.log('页面加载完成，检查ECharts GL...');
    if (typeof echarts !== 'undefined') {
        console.log('ECharts已加载，版本:', echarts.version);
        if (typeof echarts.gl !== 'undefined') {
            console.log('ECharts GL已加载:', echarts.gl);
        } else {
            console.error('ECharts GL未加载！');
        }
    } else {
        console.error('ECharts未加载！');
    }
    
    if (typeof THREE !== 'undefined') {
        console.log('Three.js已加载，版本:', THREE.REVISION);
    } else {
        console.error('Three.js未加载！');
    }
});
</script>
<script src="/assets/js/occultation-visualization.js"></script> 
---
title: "关于GNSS技术"
date: 2019-11-10
permalink: /posts/2019/11/blog-post-6
excerpt: '这里主要分析一下GNSS技术的研究，以及多种方面的用途'
tags:
    - GNSS
    - Ionosphere
    - PPP
---

简介
====

位置服务，是GNSS项目的主要任务；然而经过多年的发展，GNSS技术已经广泛应用到了空间科学与地球科学的多个方面。

原理
====

GNSS卫星及LEO卫星以及地面台站，通过测量信号传播的时间及相位，可以获得信号源（比如GNSS卫星）与接收机（比如地面台站）间的传播时间与相位，进而知道信号源与接收机间距离的伪距与相位。
伪距，指并不是真是的发射机与接收机间的几何距离，而是由于信号传播过程中会受到多种因素影响，其传播时间对应的距离（乘以光速而获得）；相位则指通过记录某一初始时间的初相，记录累计相位观测数，以获得更高精度的距离信息。所以，两种观测数据，分别记为$P_i$与$L_i$，$i$表示不同频率对应的观测值，可以得到以下公式：

$$P^i_{j,k}(t)=\rho_{j,k}(t)+n^{P,i}_{j,k}(t)$$

$$\phi^i L^i_{j,k}(t)=\rho_{j,k}(t)+\phi^i N^{\phi,i}_{j,k}(t)+\phi^i n^{\phi,i}_{j,k}(t)$$

$$\rho_{j,k}(t)=\sqrt{(X_j(t)-X_k(t))^2+(Y_j(t)-Y_k(t))^2+(Z_j(t)-Z_k(t))}$$

其中 $\phi^i$ 表示频率为$f^i$的信号的波长，即$\frac{C}{f^i}$, $C$ 为光速; $\rho$, 即真实几何距离；$j, k$表示不同的发射机与接收机；$X_j, Y_j, Z_j, X_k, Y_k, Z_k$ 表示不同接收机与发射机的坐标; $n^{P,i}_{j,k}, N^{\phi,i}_{j,k}, n^{\phi,i}_{j,k}$分别表示伪距观测误差，相位观测误差及相位整周模糊度。

然而信号从等离子层穿过电离层（一般在 60km ～20000 km，即GNSS卫星（特别是GPS卫星）的卫星高度），中性大气（一般在2km～40km），最后直接或者通过反射传递到接收机天线——这一过程受到诸多因素的影响，为定位精度提高带了很多影响，同时也为误差所属研究方向提供了重要的空间观测信息。

注：这里特别指出30km～80km属于电离层与热层耦合区域，特别是电离层D层。

由于定位过程对于时间极度敏感，所以对与钟的稳定性要求极高。由于GNSS卫星相对用户数量较少，可以提供高精度的卫星钟以保证卫星信号在发射机传输时起算时间的准确性；而对于庞大的用户群体，比如全球及各国卫星监测站、个人手机及车辆，IoT产品以及无人驾驶车辆，为每个用户提供一个高精度的钟是不现实的。为此在一般定位过程中，一般假定卫星坐标与卫星时间是准确的，对地基用户或者数目庞大的用户，都是将信号接收时间当做未知量，联合未知的坐标，作为待估参数解算，从而得到准确的时间与坐标——这也是人们常说的，至少需要四颗卫星才可以实现定位，以及GNSS系统可以授时的原因。当然，卫星坐标虽然十分准确，但是卫星轨道需要地面观测站及注入站进行控制，卫星时间也受到卫星钟的稳定性影响，也会导致定位误差。卫星信号中的有实时卫星星历（其中包含钟差及钟漂信息，用以卫星钟校正），一般用于实时定位；同时各大数据分析中心以及IGS服务中心也有事后更加准确的卫星星历（具体信息可以在[IGS中心](http://www.igs.org/products)查阅）以及其他产品。

当然，从另一面，如果知道了某个位置的坐标甚至时间，通过GNSS信号可以做什么呢？ 那就是获取“更精确”的 $n^{P,i}_{j,k}, N^{\phi,i}_{j,k}, n^{\phi,i}_{j,k}$ 来获得中性大气及电离层信息。在考虑多种误差的情况下，对这三个量进行展开如下：

$$n^{P,i}_{j,k}=-C \delta t_j +C \delta t_k + \delta_{iono}+\delta_{trop} - C d^i_j + C d^i_k +m+\varepsilon$$

$$\phi^i(N^{\phi,i}_{j,k}+n^{P,i}_{j,k})=-C \delta t_j +C \delta t_k - \delta_{iono}+\delta_{trop} -C d^i_j + C d^i_k +m+\varepsilon$$

其中$\delta t_j, \delta t_k$与原时对齐下的信号时间与接收机/发射机钟的差值，一般叫卫星钟差与接收机钟差；$d^i_j, d^i_k$ 分别是卫星及地面台站的硬件延迟；$m$ 是多路径误差；$\varepsilon$是其他误差，包括天线相位偏差、相对论效应、区域形变、固体潮、参考框架长时间项，观测噪音等等。由以上可以知道，卫星钟差$\delta t_j, \delta t_k$只与卫星/台站有关，$d^i_j, d^i_k$与卫星/台站和信号频率有关，$\delta_{iono}, \delta_{trop}, m$ 与卫星、台站及频率都有关系。通过地面参考框架，可以建立十分准确的大气及卫星模型以进行相关研究与应用，特别是改进精密定位在任和场景的实时解算。


当观测卫星，观测频段，观测台站，及观测时段足够多，我们便可以建立起对大地参考框架与区域性变形的监测以实现参考框架及地质形变的分析。

应用
===